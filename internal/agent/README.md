An agent receives recipe by HTTP and apply them everytime it gets them.

It has to tell the server whenever a recipe is being applied and it's state.